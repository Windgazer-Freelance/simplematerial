/*
# Buttons and other actions

The following partial mimics to some degree of accuracy the Google Material Design specs
on [buttons](http://www.google.com/design/spec/components/buttons.html#buttons-usage).

A somewhat 'leading' name for anything that might need to look like a button, but might
well be just a hyperlink.
*/

/*
# Ripple Effect

To get some advanced usability into the mix, the following SCSS defines the 'ripple'
effect most people have come to expect of material design implementations. Since I do
agree that it is terribly user friendly and should be implemented :)

The effect is implemented for any of the actions defined in this partial. For optimal
effect it'll need some aditional JavaScript. In it's plain working it'll always ripple
from the center of the element. Using a simple script will allow the ripple to start from
the point of touch.

The intend is to mimic to a reasonable degree the specification by google:
http://www.google.com/design/spec/animation/responsive-interaction.html

*/

%mt-bgcircle {
    background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 4 4" xmlns="http://www.w3.org/2000/svg"><circle cx="2" cy="2" r="2" fill="currentColor" fill-opacity="0.25"/></svg>');
    background-position: 50% 50%;
    background-repeat: no-repeat;
}

%mt-touchdot {
    @extend %mt-bgcircle;
    height: 1em;
    margin: -0.5em;
    opacity: 0;
    pointer-events: none;
    position: absolute;
    transition: opacity 250ms ease-in 250ms;
    width: 1em;

    &.on {
        opacity: 1;
        transition: none;
    }
}

%mt-ripple-active {
    @at-root {
        @keyframes mtRippleAnimation {
            0% {
                background-size: 120%;
            }
            100% {
                background-size: 0;
            }
        }
    }
    animation-delay: 1s;
    animation-duration: 100ms;
    animation-fill-mode: forwards; //override existing transitions
    animation-name: mtRippleAnimation;
    background-position: 50% 50% !important;
    background-size: 110%;
    transition: background-size 250ms ease-in, background-position 50ms ease-in 200ms;
}

%mt-ripple {
    @extend %mt-bgcircle;
    background-size: 0;
    &:focus {
        @extend %mt-ripple-active;
    }
}

/*
# Flat Button

```
<a class="mt-flatButton" href="#dummy">Call to Action</a>
```
*/
%mt-flatButton {
    @extend %reset;
    @extend %a__typography--button;
    @extend %mt-ripple;
    cursor: pointer;
    display: inline-block;
    line-height: 1;
    margin: 0 $b__spacing--associated $b__spacing--associated 0;
    padding: ($b__spacing--associated * 1.5) ($b__spacing--associated * 2);
    text-align: center;
    text-transform: uppercase;
}

/*
# Floating Action
```
<a class="mt-floatingAction" href="#dummy">+</a>
```
*/
%mt-floatingAction {
    @extend %mt-flatButton;
    @extend %mt-s-floating;
    border-radius: 50%;
    line-height: $b__spacing--unrelated;
    padding: $b__spacing--associated;
    width: $b__spacing--unrelated;
}

/*
# Raised Button

```
<a class="mt-raisedButton" href="#dummy">Call to Action</a>
```
*/
%mt-raisedButton {
    @extend %mt-flatButton;
    @extend %mt-s-raised;
    border-radius: ($b__spacing--associated / 4);
    padding: ($b__spacing--associated * 1.5) ($b__spacing--associated * 2);
}

/*
# Floating Action Primary Colour
```
<a class="mt-floatingActionP500" href="#dummy">+</a>
```
*/
%mt-floatingActionP500 {
    @extend %mt-floatingAction;
    @extend %a__primary-color500;
}

/*
# Floating Action Alternate Colour
```
<a class="mt-floatingActionA400" href="#dummy">+</a>
```
*/
%mt-floatingActionA400 {
    @extend %mt-floatingAction;
    @extend %a__alternate-color400;
}

/*
# Flat Button Primary Colour

```
<a class="mt-flatButtonP500" href="#dummy">Call to Action</a>
```
*/
%mt-flatButtonP500 {
    @extend %mt-flatButton;
    color: $b__color--primary__500;
}

/*
# Flat Button Alternate Colour

```
<a class="mt-flatButtonA400" href="#dummy">Call to Action</a>
```
*/
%mt-flatButtonA400 {
    @extend %mt-flatButton;
    color: $b__color--alternate__400;
}

/*
# Raised Button Primary Colour

```
<a class="mt-raisedButtonP500" href="#dummy">Call to Action</a>
```
*/
%mt-raisedButtonP500 {
    @extend %mt-raisedButton;
    @extend %a__primary-color500;
}

/*
# Raised Button Alternate Colour

```
<a class="mt-raisedButtonA400" href="#dummy">Call to Action</a>
```
*/
%mt-raisedButtonA400 {
    @extend %mt-raisedButton;
    @extend %a__alternate-color400;
}

/*
#TODO
*/
%declined {
    box-shadow:
        inset 0 0 0.1em rgba(0, 0, 0, 0.35),
        inset 0.05em 0.1em 0.1em rgba(0, 0, 0, 0.35);
}

%mt-flatButtonIcon {
    height: 1em;
    overflow: hidden;
    text-align: center;
    width: 1.4em;

    &::before {
        display: inline-block;
        font-family: '42tiles';
        font-weight: 300;
        margin: 0 1em 1em 0;
        width: 100%;
    }
}

%mt-flatButtonReload {
    @extend %mt-flatButtonIcon;
    &::before {
        content: "\e802";
    }
}

/*
# Predefined icons

In the near future I would like to implement a set of predefined icons based on the set of
[materials design icons on github](https://github.com/google/material-design-icons).
*/
%mt-flatButtonGame {
    @extend %mt-flatButtonIcon;
    &::before {
        content: "\e900";
    }
}

%mt-flatButtonStats {
    @extend %mt-flatButtonIcon;
    &::before {
        content: "\e901";
    }
}

%mt-flatButtonAchievements {
    @extend %mt-flatButtonIcon;
    &::before {
        content: "\e902";
    }
}

%mt-flatButtonSettings {
    @extend %mt-flatButtonIcon;
    &::before {
        content: "\e903";
    }
}

%mt-flatButtonLicense {
    @extend %mt-flatButtonIcon;
    &::before {
        content: "`";
    }
}
